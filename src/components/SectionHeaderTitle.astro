---
interface Props {
    extraStyles?: string;
    areaHidden?: boolean;
    color?: string;
}
const { extraStyles, areaHidden, color = 'var(--color-text)' } = Astro.props as Props;
---

<h1
    style={extraStyles}
    class="section-header-title"
    aria-hidden={areaHidden ? 'true' : 'false'}
    data-color={color}
>
    <slot />
</h1>
<script>
    import { gsap } from 'gsap';
    import { ScrollTrigger } from 'gsap/ScrollTrigger';

    gsap.registerPlugin(ScrollTrigger);

    const el = document.querySelectorAll('.section-header-title') as NodeListOf<HTMLElement>;
    el.forEach((element) => {
        const color = element.dataset.color;
        gsap.fromTo(
            element,
            {
                color: 'var(--color-surface)',
            },
            {
                color: color,
                scrollTrigger: {
                    trigger: element,
                    start: 'top center',
                    end: 'bottom center',
                    scrub: true,
                },
            }
        );
    });
</script>
<style>
    h1 {
        font-size: clamp(3rem, 8vw, 8rem);
        color: var(--color-text);
        line-height: 0.9;
        margin: 0;
    }
</style>
